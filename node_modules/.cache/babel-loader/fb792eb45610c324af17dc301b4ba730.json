{"ast":null,"code":"import printBuffer from './core';\nimport { timer } from './helpers';\nimport defaults from './defaults';\n/* eslint max-len: [\"error\", 110, { \"ignoreComments\": true }] */\n\n/**\r\n * Creates logger with following options\r\n *\r\n * @namespace\r\n * @param {object} options - options for logger\r\n * @param {string | function | object} options.level - console[level]\r\n * @param {boolean} options.duration - print duration of each action?\r\n * @param {boolean} options.timestamp - print timestamp with each action?\r\n * @param {object} options.colors - custom colors\r\n * @param {object} options.logger - implementation of the `console` API\r\n * @param {boolean} options.logErrors - should errors in action execution be caught, logged, and re-thrown?\r\n * @param {boolean} options.collapsed - is group collapsed?\r\n * @param {boolean} options.predicate - condition which resolves logger behavior\r\n * @param {function} options.stateTransformer - transform state before print\r\n * @param {function} options.actionTransformer - transform action before print\r\n * @param {function} options.errorTransformer - transform error before print\r\n *\r\n * @returns {function} logger middleware\r\n */\n\nfunction createLogger(options = {}) {\n  const loggerOptions = Object.assign({}, defaults, options);\n  const {\n    logger,\n    stateTransformer,\n    errorTransformer,\n    predicate,\n    logErrors,\n    diffPredicate\n  } = loggerOptions; // Return if 'console' object is not defined\n\n  if (typeof logger === 'undefined') {\n    return () => next => action => next(action);\n  } // Detect if 'createLogger' was passed directly to 'applyMiddleware'.\n\n\n  if (options.getState && options.dispatch) {\n    // eslint-disable-next-line no-console\n    console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n`);\n    return () => next => action => next(action);\n  }\n\n  const logBuffer = [];\n  return ({\n    getState\n  }) => next => action => {\n    // Exit early if predicate function returns 'false'\n    if (typeof predicate === 'function' && !predicate(getState, action)) {\n      return next(action);\n    }\n\n    const logEntry = {};\n    logBuffer.push(logEntry);\n    logEntry.started = timer.now();\n    logEntry.startedTime = new Date();\n    logEntry.prevState = stateTransformer(getState());\n    logEntry.action = action;\n    let returnedValue;\n\n    if (logErrors) {\n      try {\n        returnedValue = next(action);\n      } catch (e) {\n        logEntry.error = errorTransformer(e);\n      }\n    } else {\n      returnedValue = next(action);\n    }\n\n    logEntry.took = timer.now() - logEntry.started;\n    logEntry.nextState = stateTransformer(getState());\n    const diff = loggerOptions.diff && typeof diffPredicate === 'function' ? diffPredicate(getState, action) : loggerOptions.diff;\n    printBuffer(logBuffer, Object.assign({}, loggerOptions, {\n      diff\n    }));\n    logBuffer.length = 0;\n    if (logEntry.error) throw logEntry.error;\n    return returnedValue;\n  };\n} // eslint-disable-next-line consistent-return\n\n\nconst defaultLogger = ({\n  dispatch,\n  getState\n} = {}) => {\n  if (typeof dispatch === 'function' || typeof getState === 'function') {\n    return createLogger()({\n      dispatch,\n      getState\n    });\n  } // eslint-disable-next-line no-console\n\n\n  console.error(`\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n`);\n};\n\nexport { defaults, createLogger, defaultLogger as logger };\nexport default defaultLogger;","map":{"version":3,"sources":["C:/Users/Ivan/Desktop/React/shopReact/node_modules/redux-logger/src/index.js"],"names":["printBuffer","timer","defaults","createLogger","options","loggerOptions","Object","assign","logger","stateTransformer","errorTransformer","predicate","logErrors","diffPredicate","next","action","getState","dispatch","console","error","logBuffer","logEntry","push","started","now","startedTime","Date","prevState","returnedValue","e","took","nextState","diff","length","defaultLogger"],"mappings":"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","sourcesContent":["import printBuffer from './core';\r\nimport { timer } from './helpers';\r\nimport defaults from './defaults';\r\n/* eslint max-len: [\"error\", 110, { \"ignoreComments\": true }] */\r\n/**\r\n * Creates logger with following options\r\n *\r\n * @namespace\r\n * @param {object} options - options for logger\r\n * @param {string | function | object} options.level - console[level]\r\n * @param {boolean} options.duration - print duration of each action?\r\n * @param {boolean} options.timestamp - print timestamp with each action?\r\n * @param {object} options.colors - custom colors\r\n * @param {object} options.logger - implementation of the `console` API\r\n * @param {boolean} options.logErrors - should errors in action execution be caught, logged, and re-thrown?\r\n * @param {boolean} options.collapsed - is group collapsed?\r\n * @param {boolean} options.predicate - condition which resolves logger behavior\r\n * @param {function} options.stateTransformer - transform state before print\r\n * @param {function} options.actionTransformer - transform action before print\r\n * @param {function} options.errorTransformer - transform error before print\r\n *\r\n * @returns {function} logger middleware\r\n */\r\nfunction createLogger(options = {}) {\r\n  const loggerOptions = Object.assign({}, defaults, options);\r\n\r\n  const {\r\n    logger,\r\n    stateTransformer,\r\n    errorTransformer,\r\n    predicate,\r\n    logErrors,\r\n    diffPredicate,\r\n  } = loggerOptions;\r\n\r\n  // Return if 'console' object is not defined\r\n  if (typeof logger === 'undefined') {\r\n    return () => next => action => next(action);\r\n  }\r\n\r\n  // Detect if 'createLogger' was passed directly to 'applyMiddleware'.\r\n  if (options.getState && options.dispatch) {\r\n    // eslint-disable-next-line no-console\r\n    console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\r\n// Logger with default options\r\nimport { logger } from 'redux-logger'\r\nconst store = createStore(\r\n  reducer,\r\n  applyMiddleware(logger)\r\n)\r\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\r\nimport createLogger from 'redux-logger'\r\nconst logger = createLogger({\r\n  // ...options\r\n});\r\nconst store = createStore(\r\n  reducer,\r\n  applyMiddleware(logger)\r\n)\r\n`);\r\n\r\n    return () => next => action => next(action);\r\n  }\r\n\r\n  const logBuffer = [];\r\n\r\n  return ({ getState }) => next => (action) => {\r\n    // Exit early if predicate function returns 'false'\r\n    if (typeof predicate === 'function' && !predicate(getState, action)) {\r\n      return next(action);\r\n    }\r\n\r\n    const logEntry = {};\r\n\r\n    logBuffer.push(logEntry);\r\n\r\n    logEntry.started = timer.now();\r\n    logEntry.startedTime = new Date();\r\n    logEntry.prevState = stateTransformer(getState());\r\n    logEntry.action = action;\r\n\r\n    let returnedValue;\r\n    if (logErrors) {\r\n      try {\r\n        returnedValue = next(action);\r\n      } catch (e) {\r\n        logEntry.error = errorTransformer(e);\r\n      }\r\n    } else {\r\n      returnedValue = next(action);\r\n    }\r\n\r\n    logEntry.took = timer.now() - logEntry.started;\r\n    logEntry.nextState = stateTransformer(getState());\r\n\r\n    const diff = loggerOptions.diff && typeof diffPredicate === 'function'\r\n      ? diffPredicate(getState, action)\r\n      : loggerOptions.diff;\r\n\r\n    printBuffer(logBuffer, Object.assign({}, loggerOptions, { diff }));\r\n    logBuffer.length = 0;\r\n\r\n    if (logEntry.error) throw logEntry.error;\r\n    return returnedValue;\r\n  };\r\n}\r\n\r\n// eslint-disable-next-line consistent-return\r\nconst defaultLogger = ({ dispatch, getState } = {}) => {\r\n  if (typeof dispatch === 'function' || typeof getState === 'function') {\r\n    return createLogger()({ dispatch, getState });\r\n  }\r\n  // eslint-disable-next-line no-console\r\n  console.error(`\r\n[redux-logger v3] BREAKING CHANGE\r\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\r\n[redux-logger v3] Change\r\n[redux-logger v3] import createLogger from 'redux-logger'\r\n[redux-logger v3] to\r\n[redux-logger v3] import { createLogger } from 'redux-logger'\r\n`);\r\n};\r\n\r\nexport { defaults, createLogger, defaultLogger as logger };\r\n\r\nexport default defaultLogger;\r\n"]},"metadata":{},"sourceType":"module"}